<div ng-include src="'/partials/header.html'"></div>

<div class="view">
<div class="span12">

	<div class="currentlyDoing" style="padding-top: 1em">
		<h3>who are you, what are you working on?</h3>
		<div class="who span6" style="height: 315px">
			<input ng-model="name" class="name" type="text"/>
			<textarea ng-model="present" class="span6" style="height: 225px;"></textarea>
			<button class="btn" ng-click="saveProfile()">Save</button>
		</div>

		<div class="projects span4">
			<h3>Communities</h3>
			<ul style="margin-bottom: 0">
				<li ng-repeat="community in communities" class="communityContainer">
					<span class=""><a href="{{community.url}}">{{community.name}}</a></span>
					<span class="thingTrashIcon" ng-click="deleteCommunity(community)">
						<i class="icon-trash" 
						style="margin-left: 1.5ex; margin-bottom: 2px; vertical-align: bottom"></i>
					</span>
				</li>
			</ul>

			<ul ng-hide="isAtCommunityLimit()" style="margin-top: 0">
				<li>
					<form ng-submit="saveCommunity()">
						<input ng-model="newCommunity.name" type="text" style="margin-top: 10px"
						placeholder="community name" />
						<input ng-model="newCommunity.url" type="text" style="margin-top: -8px" 
						placeholder="web address (url)" />
						<button type="submit" class="btn" style="margin-top: -18px">Add</button>
					</form>
				</li>
			</ul>

			<!--
			TODO: Soon ...
 			<input type="text"/>
			<input class="span4" type="text"/>
 			-->
			<h3>Passions</h3>
			<ul style="margin-bottom: 0">
				<li ng-repeat="passion in passions" class="passionContainer">
					<span class="">{{passion}}</span>
					<span class="thingTrashIcon" ng-click="deletePassion(passion)">
						<i class="icon-trash" 
						style="margin-left: 1.5ex; margin-bottom: 2px; vertical-align: bottom"></i>
					</span>
				</li>
			</ul>

			<ul ng-hide="isAtPassionLimit()" style="margin-top: 0">
				<li>
					<form ng-submit="savePassion()">
						<input ng-model="newPassion" type="text" style="margin-top: 10px"/>
						<button type="submit" class="btn">Add</button>
					</form>
				</li>
			</ul>
		</div>
	</div>

	<div class="things" style="clear: left">
		<h3 style="padding-top: 1em">add a thing</h3>

		<div class="newThingContainer span10">
			<label class="span3">
				A <input ng-model="thing.unit" class="span2" placeholder="(unit of measure)" type="text" /> 
			</label>
			<label class="span3">
				of <input ng-model="thing.name" placeholder="(thing I would appreciate)" type="text" />, 
			</label>
			<label class="span2">
				for <input ng-model="thing.price" class="span1" type="text" /> dollars.
			</label>

			<div class="span1" style="text-align: right">
				<button class="btn" ng-click="addThing()">Add</button>
			</div>

			<div class="span10" style="clear: left">
				<div style="padding-top: 1em; padding-left: 1.5em">
					<span class="glyph-choice" ng-repeat="icon in getIcons()">
						<span class="glyph-choice-inner" ng-click="setNewThingGlyph(icon)">
							<i class="icon-{{icon}} passive"
							ng-class="{ selected: areEqual(icon, thing.glyph) }"></i>
							<i class="icon-{{icon}} icon-white active" 
							ng-class="{ selected: areEqual(icon, thing.glyph) }"></i>
						</span>
					</span>
				</div>
			</div>
		</div>


		<h3 style="clear: left; padding-top: 1.5em">things <small>:: {{things.length}}</h3>
		<div ui-sortable="{ axis: 'y', update: markThingsAsChanged }" ng-model="things">
			<div  ng-repeat="thing in things" style="user-select: none !important"
				ng-class-odd="'odd'" class="editThingContainer span10">
				<span class="span1 moveThing" style="width: 1ex">
					<i class="icon-resize-vertical"></i>
				</span>
				<span class="span3">A {{thing.unit}}</span>
				<span class="span3">of {{thing.name}},</span>
				<span class="span1" style="width: 1ex"><i class="icon-{{thing.glyph}}"> </i></span>
				<span class="span2">for {{thing.price}} dollars.</span> 
				<span class="span1 thingTrashIcon" style="text-align: right; width: 1ex">
					<i class="icon-trash" ng-click="deleteThing(thing)" style="padding-right: 1.1em"></i>
				</span>
			</div>
		</div>		
	</div>

	<h3 style="clear: left; padding-top: 1.5em">contribution destination</h3>
	<div class="span4">
		<a href="https://connect.stripe.com/oauth/authorize?response_type=code&client_id={{stripeConnectClientId}}" class="stripe-connect light-blue"><span>Connect with Stripe</span></a>
	</div>

	<h3 style="clear: left; padding-top: 1.5em">profile name</h3>
	<div class="span7">
		<form ng-submit="saveProfile()">
			<input ng-model="username" class="name" type="text"/> 
			<h3 style="display: inline"><small>:: {{email}}</small></h3>
			<div style="margin-bottom: 1.5em">
				<button type="submit" class="btn">Save</button>
			</div>
		</form>
	</div>

	<div style="margin-bottom: 2em">
		&nbsp;
	</div>
</div>
</div>